(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["a7f485a2"],{"14f7":function(t,e,i){"use strict";i.r(e);var a=i("c8699"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=s.a},"3ba7":function(t,e,i){"use strict";var a=i("fccf"),s=i.n(a);s.a},"3e7f":function(t,e,i){"use strict";i.r(e);var a=i("fb1c"),s=i("14f7");for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i("3ba7");var u=i("2877"),c=Object(u["a"])(s["default"],a["a"],a["b"],!1,null,null,null);c.options.__file="TopicEdit.vue",e["default"]=c.exports},c8699:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("7514");var s=a(i("2b0e")),n=a(i("fb3d")),u=a(i("a378")),c=a(i("d722")),o={editors:{classic:n.default},name:"ckeditor"};s.default.use(u.default.plugin,o);var l,r=i("c64e"),d=c.default.service("conversation"),f={data:function(){return{label:"",details:"",url:"",id:"",type:"",user:this.$store.getters.user}},methods:{doSubmit:function(){var t=this,e=this.type;console.log("TopicEditDid",e);var i={};(i.id=r(),i.label=this.label,i.url=this.url,i.details=this.details,i.img="statics/images/cogwheel.png",i.imgsm="statics/images/cogwheel_sm.png",i.creator=this.user._id,i.handle=this.user.handle,i.date=new Date,i.type="topic",e)&&("subclass"===e?i.subOf=this.$data.id:i.instanceOf=this.$data.id);console.info("QFT-1",this.user),console.info("QFT-2",i),d.create(i).then(function(a){e?d.find({query:{id:t.id,skippop:!0}}).then(function(e){var a,s=e.data[0];"subclass"===t.type?(a=s.subclasses,a||(a=[]),a.push(i.id),s.subclasses=a):(a=s.instances,a||(a=[]),a.push(i.id),s.instances=a),d.update(s.id,s).then(function(t){console.info("NVU-2",t),l.push({name:"topicview",params:{id:s.id}})})}):l.push("/topics")})}},mounted:function(){this.$data.type=this.$route.params.type,this.$data.id=this.$route.params.id,console.log("TopicEdit",this.$data.type,this.$data.id),l=this.$router,this.$store.commit("questView",!1)}};e.default=f},fb1c:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{attrs:{padding:!0}},[i("h6",[t._v("Topic Edit Form")]),t.type?i("h6",[t._v("New Child Topic")]):t._e(),i("div",[i("b",[t._v("Subject")]),i("br"),i("q-input",{model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),i("div",[i("b",[t._v("URL")]),t._v(" (Optional)"),i("br"),i("q-input",{model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),i("div",[i("b",[t._v("Details")]),i("br"),i("ckeditor",{attrs:{type:"classic"},model:{value:t.details,callback:function(e){t.details=e},expression:"details"}})],1),i("div",[i("q-btn",{attrs:{label:"Submit"},on:{click:t.doSubmit}}),i("q-btn",{attrs:{label:"Cancel"},on:{click:function(e){return t.$router.replace("/home")}}})],1)])},s=[];a._withStripped=!0,i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},fccf:function(t,e,i){}}]);